function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var o;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(o="Object"===(o={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function _iterableToArrayLimit(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var n,a,r,c,i=[],l=!0,s=!1;try{if(r=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;l=!1}else for(;!(l=(n=r.call(o)).done)&&(i.push(n.value),i.length!==e);l=!0);}catch(t){s=!0,a=t}finally{try{if(!l&&null!=o.return&&(c=o.return(),Object(c)!==c))return}finally{if(s)throw a}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}document.addEventListener("DOMContentLoaded",function(){var n={mainAvatar:0,yaoguang:0,kaiyang:0,yuheng:0,tianji:0,tianxuan:0,tianshu:0},a={lastClickTime:0,comboCount:0,targetId:null,COMBO_TIMEOUT:1e3},t=null,o=document.querySelector(".click-counter-container"),r=!1,e=!0,c=(o&&(o.classList.remove("hover-active"),o.classList.remove("has-counts"),o.classList.remove("shown-hint")),localStorage.getItem("starLuckCounter"));if(c)try{n=JSON.parse(c);Object.values(n).some(function(t){return 0<t})&&(e=!(r=!0),u())}catch(t){console.error("Failed to load saved counter",t)}var c=document.querySelector(".hover-trigger"),i=document.querySelector(".top-hover-area");document.querySelector(".counter-all-values");function l(){o&&(t&&clearTimeout(t),t=setTimeout(function(){o.classList.remove("hover-active"),o.classList.remove("about-to-hide"),t=null},5e3),setTimeout(function(){t&&o.classList.add("about-to-hide")},4e3))}function s(){o&&(o.classList.add("hover-active"),o.classList.remove("about-to-hide"),e&&(o.classList.add("first-show"),e=!1,setTimeout(function(){o.classList.remove("first-show")},1e3)),t&&(clearTimeout(t),o.classList.remove("about-to-hide")),l())}function u(){var t,e,o=document.querySelector(".click-counter-container");o&&(t=Object.values(n).reduce(function(t,e){return t+e},0),(e=document.getElementById("totalLuckCounter"))&&(e.textContent=t,e.classList.remove("value-change"),setTimeout(function(){e.classList.add("value-change")},10)),Object.entries(n).forEach(function(t){var t=_slicedToArray(t,2),e=t[0],t=t[1],o=document.getElementById("".concat(e,"Counter"));o&&(o.textContent=t,o.classList.remove("value-change"),setTimeout(function(){o.classList.add("value-change")},10))}),0<t?(r=!0,o.classList.add("has-counts"),o.classList.add("shown-hint")):(o.classList.remove("has-counts"),o.classList.remove("shown-hint"),o.classList.remove("hover-active"),r=!1))}i&&o&&(i.addEventListener("mouseenter",function(){r&&o.classList.contains("has-counts")&&(o.classList.add("hover-active"),t)&&(clearTimeout(t),t=null,o.classList.remove("about-to-hide"))}),i.addEventListener("mouseleave",function(t){var e=o.getBoundingClientRect();(t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom)&&l()})),o&&(o.addEventListener("mouseenter",function(){r&&o.classList.contains("has-counts")&&(o.classList.add("hover-active"),t)&&(clearTimeout(t),t=null,o.classList.remove("about-to-hide"))}),o.addEventListener("mouseleave",function(){l()})),c&&o&&c.addEventListener("mouseenter",function(){r&&o.classList.contains("has-counts")&&(o.classList.add("hover-active"),t)&&(clearTimeout(t),t=null,o.classList.remove("about-to-hide"))});var d={mainAvatar:{text:"桃花运 +",color:"#ff69b4",glowColor:"rgba(255, 105, 180, 0.6)"},yaoguang:{text:"财运 +",color:"#ffdf00",glowColor:"rgba(255, 223, 0, 0.6)"},kaiyang:{text:"健康运 +",color:"#7eff7e",glowColor:"rgba(126, 255, 126, 0.6)"},yuheng:{text:"智慧运 +",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.6)"},tianji:{text:"好运 +",color:"#bf00ff",glowColor:"rgba(191, 0, 255, 0.6)"},tianxuan:{text:"福气 +",color:"#ff7f50",glowColor:"rgba(255, 127, 80, 0.6)"},tianshu:{text:"缘分 +",color:"#ff4500",glowColor:"rgba(255, 69, 0, 0.6)"}},i=document.querySelector(".card-inner header img");i&&i.addEventListener("click",function(t){r=r||!0,n.mainAvatar++;var e=Date.now(),e=(e-a.lastClickTime<a.COMBO_TIMEOUT&&"mainAvatar"===a.targetId?(a.comboCount++,3<=a.comboCount&&(m(t,"连击 x".concat(a.comboCount),"#ff013c",!0),10<=a.comboCount)&&f(t)):(a.comboCount=1,a.targetId="mainAvatar"),a.lastClickTime=e,"".concat(d.mainAvatar.text.replace("+","").trim()," +").concat(n.mainAvatar));m(t,e,d.mainAvatar.color),u(),s(),localStorage.setItem("starLuckCounter",JSON.stringify(n))});function m(t,e,o,n){var a,o=2<arguments.length&&void 0!==o?o:"#ffffff",n=3<arguments.length&&void 0!==n&&n,r=document.createElement("div"),o=(n?r.className="combo-text":(r.className="floating-text",r.style.color=o,r.style.textShadow="0 0 5px rgba(0, 0, 0, 0.8), \n                                            0 0 10px ".concat(o,", \n                                            0 0 15px ").concat(o,", \n                                            0 0 20px ").concat(o)),r.innerText=e,t.target.getBoundingClientRect());t=n?(a=o.left+o.width/2-(r.offsetWidth/2||60),o.top-80):(e=20*(Math.random()-.5),a=o.left+o.width/2-(r.offsetWidth/2||40)+e,o.top-40),r.style.left="".concat(a,"px"),r.style.top="".concat(t,"px"),document.body.appendChild(r),setTimeout(function(){document.body.contains(r)&&document.body.removeChild(r)},2e3)}function f(t){var e=document.createElement("div"),o=(e.className="rainbow-ripple",t.target.getBoundingClientRect()),n=t.clientX||o.left+o.width/2,t=(t.clientY||o.top)-10;e.style.left="".concat(n,"px"),e.style.top="".concat(t,"px"),document.body.appendChild(e),setTimeout(function(){document.body.removeChild(e)},2e3)}Object.entries({".star.yaoguang img":"yaoguang",".star.kaiyang img":"kaiyang",".star.yuheng img":"yuheng",".star.tianji img":"tianji",".star.tianxuan img":"tianxuan",".star.tianshu img":"tianshu"}).forEach(function(t){var t=_slicedToArray(t,2),e=t[0],o=t[1],t=document.querySelector(e);t&&t.addEventListener("click",function(t){r=r||!0,n[o]++;var e=Date.now(),e=(e-a.lastClickTime<a.COMBO_TIMEOUT&&a.targetId===o?(a.comboCount++,3<=a.comboCount&&(m(t,"连击 x".concat(a.comboCount),"#ff013c",!0),10<=a.comboCount)&&f(t)):(a.comboCount=1,a.targetId=o),a.lastClickTime=e,"".concat(d[o].text.replace("+","").trim()," +").concat(n[o]));m(t,e,d[o].color),u(),s(),localStorage.setItem("starLuckCounter",JSON.stringify(n))})}),document.addEventListener("click",function(t){var e=document.createElement("div");e.className="click-ripple",document.body.appendChild(e),e.style.left="".concat(t.clientX,"px"),e.style.top="".concat(t.clientY,"px"),setTimeout(function(){document.body.removeChild(e)},1e3)})});